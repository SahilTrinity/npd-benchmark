Content
======

This folder contains some bash scripts to create the NPD database in postgres. We show how to use the scripts with a running example where we try to load the data into a database called **npd_vig1_scale1**. 

**1) Create the database in which the csvs generated by VIG will be loaded**

CREATE DATABASE npd_vig_scale1 WITH TEMPLATE = template0 ENCODING = 'UTF8' LC_COLLATE = 'en_US.UTF-8' LC_CTYPE = 'en_US.UTF-8';

**2) Create the database schema**

./executeSql.sh ../../postgres/schema_only/npd_v2_schema.sql npd_vig_scale1 user password postgres

**3) Load the data from CSV files**

loadCsvs/pumpDataToNpd.sh npd_vig_scale1 postgres /home/user/npd_benchmark/data/db_creation_scripts/postgres/loadCsvs/dumps
   
**4) Add the indexes**

./executeSql.sh npd_benchmark/.../postgresindexes.sql npd_vig_scale1 user password postgres

**5) Add the foreign keys**

./executeSql.sh npd_benchmark/.../postgresfkeys.sql npd_vig_scale1 postgres postgres

**6) Create statistics**

./executeSql.sh npd_benchmark/.../vacuum.sql npd_vig_scale1 postgres postgres
